<%- include header %>
<div class="py-5 text-center">

    <h2>Créer une recette</h2>
    <p class="lead">Vous pouvez créer de nouvelles recettes en fonction de vos habitudes de cuisson. Vos recettes seront
        partagées avec d'autres internautes.</p>
</div>

<div class="row" id="recette">

    <div class="col-md-4 order-md-2 mb-4">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">Ingrédients</span>
            <span class="badge badge-secondary badge-pill">{{nombre}}</span>
        </h4>
        <ul>
            <li v-for='(list,index) in ingredient'>
                {{list.title}}-{{list.quantite}}
                <button v-on:click='annulerIngredient(index)' class="close" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
            </li>
        </ul>
        <hr/>
        <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">Préparation</span>
        </h4>
        <ol style="width: 100%">
            <li v-for='(list,index) in preparation' v-bind:key='list.id' >
                {{list.val}}
                <button v-on:click='preparation.splice(index,1)' class="close" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
            </li>
        </ol>
    </div>
    <div class="col-md-8 order-md-1">
        <h4 class="mb-3">Informations sur la recette</h4>


        <div class="mb-3">
            <label for="username">Nom de recette</label>
            <div class="input-group">

                <input v-model="title" class="form-control" >
                <div class="invalid-feedback" style="width: 100%;">
                    Le nom de la recette est nécessaire
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="type">Type</label>
                <input v-model="type" class="form-control" id="type" placeholder="" value="" required>
                <div class="invalid-feedback">
                    Le type de recette est nécessaire
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <label for="calories">Calories</label>
                <input v-model="calories" class="form-control" id="calories" placeholder="" value="" required>
                <div class="invalid-feedback">
                    Les calories de la recette sont nécessaires
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 mb-3">
                <label for="type">Ingredient</label>
                <input v-model="newIngredient" class="form-control"/>
            </div>
            <div class="col-md-4 mb-3">
                <label for="type">Quantité</label>
                <input v-model="newQuantite" class="form-control"/>
            </div>
            <button class="btn btn-primary" @click='addNewIngredient' style="margin:auto 0">Ajouter</button>
        </div>
        <hr class="mb-4">

        <h4 class="mb-3">Préparation</h4>
        <div class="row">
            <div class="col-md-10 mb-3">
                <input v-model="newPreparation" placeholder="Ajouter une étape" class="form-control"/>
            </div>
            <div class="col-md-2 mb-3">
                <button class="btn btn-primary" @click='addNewPreparation'>Ajouter</button>
            </div>
        </div>
        <hr class="mb-4">
        <button class="btn btn-primary btn-lg btn-block" v-on:click='terminer()' type="submit">Terminer la création</button>
    </div>


</div>
</div>
<script src="/javascripts/createRecette.js"></script>
<script src="/javascripts/jquery.min.js"></script>
<script src="/javascripts/bootstrap.min.js"></script>
</body>
</html>